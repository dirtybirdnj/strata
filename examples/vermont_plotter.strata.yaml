# Vermont Plotter Map
# Simplified map for pen plotter output
# Vermont in green, surrounding states in tinted greys, Quebec beige, NH gold
#
# Color scheme:
#   Vermont:       Green tones (#66bb6a base)
#   New York:      Blue-grey (#78909c base)
#   New Hampshire: Muted gold/grey (#c5b358 base)
#   Massachusetts: Warm grey (#a1887f base)
#   Maine:         Blue-grey (#90a4ae base)
#   Quebec:        Beige (#d7ccc8 base)
#   Water:         Blue (#1976d2)
#   Highways:      Dark gray (#424242)

name: vermont_plotter
description: Vermont-centered map optimized for pen plotter
version: 1

sources:
  # Vermont
  vt_towns:
    uri: census:tiger/2023/vt/cousub
  vt_water:
    uri: census:tiger/2023/vt/areawater
  vt_roads:
    uri: census:tiger/2023/vt/prisecroads
  vt_state:
    uri: census:tiger/2023/vt/state

  # New York
  ny_towns:
    uri: census:tiger/2023/ny/cousub
  ny_water:
    uri: census:tiger/2023/ny/areawater
  ny_roads:
    uri: census:tiger/2023/ny/prisecroads

  # New Hampshire
  nh_towns:
    uri: census:tiger/2023/nh/cousub
  nh_water:
    uri: census:tiger/2023/nh/areawater
  nh_roads:
    uri: census:tiger/2023/nh/prisecroads

  # Massachusetts
  ma_towns:
    uri: census:tiger/2023/ma/cousub
  ma_water:
    uri: census:tiger/2023/ma/areawater

  # Maine (small portion visible)
  me_towns:
    uri: census:tiger/2023/me/cousub
  me_water:
    uri: census:tiger/2023/me/areawater

  # Quebec
  quebec_muni:
    uri: quebec:municipalities
  quebec_hydro:
    uri: canada:canvec/hydro
  quebec_roads:
    uri: canada:nrn/qc

  # Lake Champlain
  champlain_vt:
    uri: census:tiger/2023/vt/areawater
    filter:
      FULLNAME_contains: Champlain
  champlain_ny:
    uri: census:tiger/2023/ny/areawater
    filter:
      FULLNAME_contains: Champlain

layers:
  # ============================================================
  # MUNICIPALITIES WITH VARIED FILLS (Order 1-10)
  # Each region uses 4 color variations
  # ============================================================

  # Quebec municipalities - beige palette
  - name: quebec_towns
    source: quebec_muni
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#a1887f"
      stroke_width: 0.3
      fill: "#d7ccc8"
      vary_fill: true
    order: 1

  # New York towns - blue-grey palette
  - name: ny_towns
    source: ny_towns
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#455a64"
      stroke_width: 0.3
      fill: "#78909c"
      vary_fill: true
    order: 2

  # New Hampshire towns - muted gold/grey palette
  - name: nh_towns
    source: nh_towns
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#8d8741"
      stroke_width: 0.3
      fill: "#c5b358"
      vary_fill: true
    order: 3

  # Massachusetts towns - warm grey palette
  - name: ma_towns
    source: ma_towns
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#6d4c41"
      stroke_width: 0.3
      fill: "#a1887f"
      vary_fill: true
    order: 4

  # Maine towns - blue-grey palette
  - name: me_towns
    source: me_towns
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#546e7a"
      stroke_width: 0.3
      fill: "#90a4ae"
      vary_fill: true
    order: 5

  # Vermont towns - colored by county
  - name: vt_towns
    source: vt_towns
    operations:
      - type: simplify
        tolerance: 0.0008
    style:
      stroke: "#1b5e20"
      stroke_width: 0.4
      fill: "#66bb6a"
      fill_by: COUNTYFP
      color_map:
        "001": "#66bb6a"  # Addison - green
        "003": "#42a5f5"  # Bennington - blue
        "005": "#ab47bc"  # Caledonia - purple
        "007": "#ef5350"  # Chittenden - red
        "009": "#ffa726"  # Essex - orange
        "011": "#26c6da"  # Franklin - cyan
        "013": "#7e57c2"  # Grand Isle - deep purple
        "015": "#ec407a"  # Lamoille - pink
        "017": "#5c6bc0"  # Orange - indigo
        "019": "#9ccc65"  # Orleans - light green
        "021": "#29b6f6"  # Rutland - light blue
        "023": "#ff7043"  # Washington - deep orange
        "025": "#26a69a"  # Windham - teal
        "027": "#ffd54f"  # Windsor - amber
      vary_fill: true
    order: 6

  # ============================================================
  # MAJOR WATER BODIES (Order 20-25)
  # ============================================================

  # Lake Champlain
  - name: lake_champlain
    source: [champlain_vt, champlain_ny]
    operations:
      - type: merge
      - type: simplify
        tolerance: 0.0005
    style:
      stroke: "#0d47a1"
      stroke_width: 0.5
      fill: "#1976d2"
    order: 20

  # Vermont lakes
  - name: vt_lakes
    source: vt_water
    filter:
      min_area_km2: 1.0
    operations:
      - type: simplify
        tolerance: 0.0008
    style:
      stroke: "#0d47a1"
      stroke_width: 0.3
      fill: "#1976d2"
    order: 21

  # Regional lakes (all surrounding states)
  - name: ny_lakes
    source: ny_water
    filter:
      min_area_km2: 2.0
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#0d47a1"
      stroke_width: 0.3
      fill: "#1976d2"
    order: 22

  - name: nh_lakes
    source: nh_water
    filter:
      min_area_km2: 2.0
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#0d47a1"
      stroke_width: 0.3
      fill: "#1976d2"
    order: 23

  - name: quebec_lakes
    source: quebec_hydro
    filter:
      min_area_km2: 2.0
    operations:
      - type: simplify
        tolerance: 0.001
    style:
      stroke: "#0d47a1"
      stroke_width: 0.3
      fill: "#1976d2"
    order: 24

  # ============================================================
  # HIGHWAYS (Order 50-60)
  # ============================================================

  # Quebec highways (Autoroutes)
  - name: quebec_highways
    source: quebec_roads
    filter:
      ROADCLASS: "Freeway"
    operations:
      - type: simplify
        tolerance: 0.0005
    style:
      stroke: "#424242"
      stroke_width: 0.8
      fill: none
    order: 50

  # US Interstates
  - name: interstates
    source: [vt_roads, ny_roads, nh_roads]
    filter:
      RTTYP: "I"
    operations:
      - type: simplify
        tolerance: 0.0005
    style:
      stroke: "#424242"
      stroke_width: 0.8
      fill: none
    order: 55

  # US Routes (major highways)
  - name: us_routes
    source: [vt_roads, ny_roads, nh_roads]
    filter:
      RTTYP: "U"
    operations:
      - type: simplify
        tolerance: 0.0005
    style:
      stroke: "#616161"
      stroke_width: 0.5
      fill: none
    order: 56

  # State Routes
  - name: state_routes
    source: [vt_roads, ny_roads, nh_roads]
    filter:
      RTTYP: "S"
    operations:
      - type: simplify
        tolerance: 0.0005
    style:
      stroke: "#757575"
      stroke_width: 0.3
      fill: none
    order: 52

  # ============================================================
  # VERMONT STATE BOUNDARY (Order 100 - topmost)
  # ============================================================

  - name: vt_boundary
    source: vt_state
    operations:
      - type: simplify
        tolerance: 0.0003
    style:
      stroke: "#1b5e20"
      stroke_width: 2.0
      fill: none
    order: 100

output:
  # Vermont-focused bounds with all neighbors visible
  bounds: [-73.9293, 42.4271, -71.1694, 45.50]
  projection: epsg:4326

  formats:
    - type: svg
      quality:
        # High detail - maximum detail, larger file size
        - name: high_detail
          simplify: 0.0003
        # Medium detail - good balance
        - name: medium_detail
          simplify: 0.0008
        # Low detail - faster plotting, smaller files
        - name: low_detail
          simplify: 0.002
        # Draft - quick preview/test plots
        - name: draft
          simplify: 0.005
      options:
        per_layer: true
        combined: true
        page_size: [12, 18]
        margin: 0.5

    - type: geojson
      options:
        per_layer: true
        precision: 5
